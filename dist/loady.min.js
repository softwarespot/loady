"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _typeof(e){return e&&e.constructor===Symbol?"symbol":typeof e}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();!function(e,t,n,r){var o=function(e){var t=new n;return t.load(e)},i=e.module,a=e.define;if(i!==r&&i.exports?i.exports=o:"function"==typeof a&&a.amd&&e.define(t,[],o),e[t]!==r)throw new e.Error("Loady appears to be already registered with the global object, therefore the module has not been registered.");e[t]=o}(window,"loady",function(e){function t(e){var t=n(e)?v.call(e):null;return t===f||t===_}function n(e){var t=void 0===e?"undefined":_typeof(e);return!!e&&("object"===t||"function"===t)}function r(e){return"string"==typeof e||v.call(e)===y}var o="0.1.0",i="data-loady-sourcefile",a=-1,s=e.document,l=s.head||s.getElementsByTagName("head")[0],c=/\.js$/,u=[],d=[],h="[object Array]",f="[object Function]",_="[object GeneratorFunction]",y="[object String]",v=e.Object.prototype.toString,p=t(e.Array.isArray)?e.Array.isArray:function(e){return v.call(e)===h};return function(){function e(){_classCallCheck(this,e),this._destroy()}return _createClass(e,[{key:"getVersion",value:function(){return o}},{key:"load",value:function(e){var t=this;r(e)&&(e=[e]),this._destroy();var n=new window.Promise(function(e,n){t._resolve=e,t._reject=n});return p(e)&&0!==e.length?(this._allLoaded=0,this._called=[],this._initiallyLoaded=e.length,e.map(function(e){return e.replace(c,"")+".js"}).filter(function(e){var n=u.indexOf(e),r=n===a;return r||t._onCompleted(d[n]),r}).forEach(function(e){t._loadScript(e)}),n):(this._isSuccess=!1,this._onCompleted(),n)}},{key:"_destroy",value:function(){this._allLoaded=-1,this._called=null,this._initiallyLoaded=0,this._isSuccess=!0,this._resolve=null,this._reject=null}},{key:"_loadScript",value:function(e){var t=s.createElement("script");t.src=e,t.async=!0,t.setAttribute(i,e),t.addEventListener("load",this._onLoad.bind(this),!1),t.addEventListener("error",this._onLoad.bind(this),!1),l.appendChild(t),u.push(e)}},{key:"_onCompleted",value:function(){this._allLoaded++,this._initiallyLoaded===this._allLoaded&&(this._isSuccess?this._resolve(this._called):this._reject(this._called),this._destroy())}},{key:"_onLoad",value:function(e){var t=e.type,n="error"===t,r="load"===t;if(!r&&this._isSuccess&&(this._isSuccess=r),r||n){var o=e.currentTarget||e.srcElement;if(!o)return;o.removeEventListener("load",this._onLoad,!1),o.removeEventListener("error",this._onLoad,!1);var s=o.getAttribute(i),l=u.indexOf(s);l!==a&&(d[l]=r),r&&this._called.push(s),this._onCompleted(r)}}}]),e}()}(window));