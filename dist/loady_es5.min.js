!function(e,t){if("function"==typeof define&&define.amd)define(["exports"],t);else if("undefined"!=typeof exports)t(exports);else{var n={exports:{}};t(n.exports),e.loady=n.exports}}(this,function(e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e){var t=m.call(e);return t===y||t===p}function i(e){return"string"==typeof e||m.call(e)===v}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o="0.1.0",s="data-loady-sourcefile",a=-1,l=window.document,c=l.head||l.getElementsByTagName("head")[0],u=/(?:\.js$)/,d=[],f=[],h="[object Array]",y="[object Function]",p="[object GeneratorFunction]",v="[object String]",m=Object.prototype.toString,L=n(window.Array.isArray)?window.Array.isArray:function(e){return m.call(e)===h},b=function(){function e(){t(this,e),this.destroy()}return r(e,[{key:"getVersion",value:function(){return o}},{key:"load",value:function(e){var t=this;L(e)||(e=[e]),e=e.filter(function(e){return i(e)&&e.length>0}),this.destroy();var n=new Promise(function(e,n){t.resolve=e,t.reject=n});return 0===e.length?(this.isSuccess=!1,this.onCompleted(),n):(this.allLoaded=0,this.called=[],this.initiallyLoaded=e.length,e.map(function(e){return e.replace(u,".js")}).filter(function(e){var n=d.indexOf(e),i=n===a;return i||t.onCompleted(f[n]),i}).forEach(function(e){t.loadScript(e)}),n)}},{key:"destroy",value:function(){this.allLoaded=-1,this.called=null,this.initiallyLoaded=0,this.isSuccess=!0,this.resolve=null,this.reject=null}},{key:"loadScript",value:function(e){var t=l.createElement("script");t.src=e,t.async=!0,t.setAttribute(s,e),t.addEventListener("load",this.onLoad.bind(this),!1),t.addEventListener("error",this.onLoad.bind(this),!1),c.appendChild(t),d.push(e)}},{key:"onCompleted",value:function(){this.allLoaded++,this.initiallyLoaded===this.allLoaded&&(this.isSuccess?this.resolve(this.called):this.reject(this.called),this.destroy())}},{key:"onLoad",value:function(e){var t=e.type,n="error"===t,i="load"===t;if(!i&&this.isSuccess&&(this.isSuccess=i),i||n){var r=e.currentTarget||e.srcElement;if(!r)return;r.removeEventListener("load",this.onLoad,!1),r.removeEventListener("error",this.onLoad,!1);var o=r.getAttribute(s),l=d.indexOf(o);l!==a&&(f[l]=i),i&&this.called.push(o),this.onCompleted(i)}}}]),e}(),g=new b;e.load=function(e){return g.load(e)}});